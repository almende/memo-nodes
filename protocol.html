<!DOCTYPE HTML>
<html>
<head>
  <title>MemoNodes - Communication protocol </title>
  <link rel="shortcut icon" href="img/logo/favicon.ico" >
  <link type="text/css" rel="stylesheet" href="css/style.css"> 
  
  <meta name="title" content="MemoNodes - Communication protocol">   
  <meta name="keywords" content="chap, memo, memory, graph, database, blackboard, data store, agent, software agent, agent platform, cloud, google app engine, http, json, json-rpc, opensource, open source, web-based" >
  <meta name="description" content="MemoNodes is a generic storage-independent graph database implemented in Java." >
  <meta name="author" content="Almende B.V." >

</head>

<body>

<a href="https://github.com/almende/memo-nodes" style="position: fixed; top: 0; right: 0; border: 0;" >
  <img 
    src="img/forkme_right_darkblue_121621.png" 
    alt="Fork me on GitHub" >
</a>
  
<div id="container">

<div id="menu">
<div id="menu-inner">

<a href="http://almende.github.com/memo-nodes"><img src="img/logo/MemoNodes_128.png" alt="logo"></a>
<br>

<div class="nav">
<ul>
  <li>
    MemoNodes
    <ul>
      <li><a class="nav" href="index.html">Introduction</a></li>
      <li><a class="nav" href="protocol.html">Protocol</a></li>
    </ul>
  </li>

  <li>
    Java
    <ul>
      <li><a class="nav" href="overview.html">Overview</a></li>
      <li><a class="nav" href="gettingstarted.html">Getting Started</a></li>
      <li><a class="nav" href="examples.html">Examples</a></li>
    </ul>
  </li>

</ul>
</div>

</div>
</div>

<div id="contents">
  <h1 id='communication_protocol'>Communication Protocol</h1>

<p>Communication with MemoNodes can be done via regular HTTP POST requests, using the JSON-RPC protocol. This is a simple and readable protocol, using JSON to format requests and responses. <a href='http://www.json.org/'>JSON</a> (JavaScript Object Notation) is a lightweight, flexible data-interchange format, easy to read for humans to read and write, and for machines to parse and generate.</p>

<h2 id='jsonrpc'>JSON-RPC</h2>

<p>JSON-RPC is implemented in two ways:</p>

<ul>
<li><strong>Asynchronous</strong><br />Requester performs an HTTP POST request to a MemoNodes instance. When MemoNodes has completed the action, it calls back the requester at the specified callback URL, containing the response.</li>
</ul>

<p>Note that only JSON-RPC 2.0 is supported. In JSON-RPC 2.0, method parameters are defined as an object with <em>named</em> parameters, unlike JSON-RPC 1.0 where method parameters are defined as an array with <em>unnamed</em> parameters, which is much more ambiguous.</p>

<h2 id='asynchronous_communication'>Asynchronous communication</h2>

<p>Requester (which can be an agent or a human) performs a request to MemoNodes.</p>
<table class='example' summary='Asynchronous request 1/2'>
<tr>
<th class='example'>Url</th><td class='example'><pre class='example'>http://myserver.com/memo/Y</pre></td>
</tr>
<tr>
<th class='example'>Request</th><td class='example'><pre class='example'>{ 
  "id": 1,
  "method": "add_domain",
  "params": {
    "domain": "Questionnaire", 
    "namespace": "http://questionnaire.com/domain/ns:questionnaire"
  },
  "callback": {
    "url": "http://myserver.com/agentX",
    "method": "addCallback"
  }
}</pre></td>
</tr>
<tr>
<th class='example'>Response</th><td class='example'><pre class='example'>{
  "id": 1,
  "result": null,
  "error": null
}</pre></td>
</tr>
</table>
<p>As soon as MemoNodes has executed the task from the queue, it returns the result via a new request, adressing the callback url and method of agent X:</p>
<table class='example' summary='Asynchronous request 2/2'>
<tr>
<th class='example'>Url</th><td class='example'><pre class='example'>http://myserver.com/agent/X</pre></td>
</tr>
<tr>
<th class='example'>Request</th><td class='example'><pre class='example'>{
  "id": 1,
  "method": "addCallback",
  "params": {
    "result: "domain(Questionnaire, http://questionnaire.com/domain/ns:questionnaire)",
    "error": null
  }
}</pre></td>
</tr>
<tr>
<th class='example'>Response</th><td class='example'><pre class='example'>{
  "id": 1,
  "result": null,
  "error": null
}</pre></td>
</tr>
</table>
<h2 id='documentation'>Documentation</h2>

<p>Documentation on the JSON-RPC protocol can be found via the following links:</p>

<ul>
<li><a href='http://www.json.org'>http://www.json.org</a></li>

<li><a href='http://json-rpc.org'>http://json-rpc.org</a></li>

<li><a href='http://jsonrpc.org'>http://jsonrpc.org</a></li>

<li><a href='http://en.wikipedia.org/wiki/Json'>http://en.wikipedia.org/wiki/Json</a></li>

<li><a href='http://en.wikipedia.org/wiki/JSON_RPC'>http://en.wikipedia.org/wiki/JSON_RPC</a></li>
</ul>
  
  <div class="lastupdate">
  Last updated: 03 August 2012
  </div>
</div>

</div>
</body>
</html>
